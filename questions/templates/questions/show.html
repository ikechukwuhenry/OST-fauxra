{% extends "base.html" %}

{% load filters %}

{% block content %}


    <div class="panel panel-info">
        <div class="panel-heading">
            <div class="vote-links">
                <a href="{% url 'questions:vote_up' question.id %}">
                    <button type="button" class="btn btn-xs btn-default">
                        <span class="glyphicon glyphicon-chevron-up">
                        </span>
                    </button>
                </a>
                <a href="{% url 'questions:vote_down' question.id %}">
                    <button type="button" class="btn btn-xs btn-default">
                        <span class="glyphicon glyphicon-chevron-down">
                        </span>
                    </button>
                </a>
                <span class="badge">
                    Points: {{ question.votes }}
                </span>
            </div>

            ::

            <em>Asked by </em><strong>{{ question.user.username }}</strong>

            {% if user == question.user %}
                <span class="edit-link pull-right">
                    <a href="{% url 'questions:edit' question.id %}">Edit question</a>
                </span>
            {% endif %}

        </div>

        <div class="panel-body">
            {% autoescape off %}
                <p>
                    {{ question | replace_urls }}
                </p>
            {% endautoescape %}
        </div>

        <div class="well well-sm question-well">
                {% if question.tags.count > 0 %}
                    <span class="tags pull-right">
                        Tagged:
                        {% for tag in question.tags.all %}
                            <a href="{% url 'questions:tagged' tag.slug %}" 
                                class="btn btn-xs btn-primary">
                                {{ tag }}
                            </a>
                        {% endfor %}
                    </span>
                {% endif %}

                <span class="updated-time">
                    Edited: {{ question.date_updated }}
                </span>
        </div>
    </div>

    <a href="{% url 'questions:new_answer' question.id %}" class="btn btn-success">Add answer</a>

    <table class="answers">
    {% for answer in answers %}
        <hr>
        {% include 'answers/_answer.html' with answer=answer %}
    {% endfor %}
    </table>
{% endblock %}

